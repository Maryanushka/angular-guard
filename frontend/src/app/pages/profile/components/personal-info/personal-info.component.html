<div class="max-w-2xl mt-6">
	<div class="bg-white rounded-lg border border-gray-200 overflow-hidden relative">
		<p-table [value]="(fields$ | async) || []" class="w-full" (onEditComplete)="onEditComplete($event)">
			<ng-template pTemplate="body" let-rowData>
				<tr class="border-b border-gray-200 last:border-0 hover:bg-gray-50 transition-colors">
					<th class="px-6 py-4 bg-gray-50 text-gray-600 font-semibold w-1/3 text-sm uppercase tracking-wider align-middle">
						{{ rowData.label }}
					</th>

					<td class="px-6 py-4 text-gray-900" [pEditableColumn]="rowData" [pEditableColumnField]="'value'" [pEditableColumnDisabled]="!rowData.editable">
						<p-cellEditor>
							<ng-template pTemplate="input">
								<div class="flex items-center gap-2">
									<input
										pInputText
										type="text"
										[(ngModel)]="rowData.value"
										class="w-full p-inputtext-sm"
										(keydown.enter)="onEditComplete({ field: 'value', data: rowData })"
										autofocus />
									<i class="pi pi-check text-green-500"></i>
								</div>
							</ng-template>
							<ng-template pTemplate="output">
								<div class="flex items-center justify-between group">
									<span [class.font-medium]="rowData.label === 'Full Name'">
										{{ rowData.value }}
									</span>
									@if (rowData.editable) {
										<i class="pi pi-pencil text-xs text-primary group-hover:opacity-50 transition-opacity"></i>
									}
								</div>
							</ng-template>
						</p-cellEditor>
					</td>
				</tr>
			</ng-template>
		</p-table>
	</div>

	<p class="text-sm text-gray-500 mt-4 px-2">
		<i class="pi pi-info-circle text-xs mr-1"></i>
		Click on the email address to edit it. Press Enter to save.
	</p>
</div>
