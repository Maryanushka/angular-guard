<div class="flex flex-col gap-4">
	<!-- Social Login -->
	<p-button label="Continue with Google" icon="pi pi-google" [outlined]="true" styleClass="w-full" (onClick)="loginGoogle()" />

	<p-divider align="center">
		<span class="text-gray-400 text-xs font-semibold uppercase tracking-wider">OR</span>
	</p-divider>

	<!-- Phone Auth Toggle -->
	@if (isPhoneAuth) {
		<div class="flex flex-col gap-4">
			@if (!verificationCodeSent) {
				<div class="flex flex-col gap-1">
					<label for="phone-input" class="text-sm font-medium text-gray-700">Phone Number</label>
					<input pInputText id="phone-input" type="tel" [(ngModel)]="phoneNumber" placeholder="+380..." class="w-full" />
					<div id="recaptcha-container" class="mt-2"></div>
					<p-button label="Send Verification Code" styleClass="w-full mt-2" [disabled]="!phoneNumber" (onClick)="sendCode()" />
				</div>
			} @else {
				<div class="flex flex-col gap-1">
					<label for="otp-input" class="text-sm font-medium text-gray-700">Verification Code</label>
					<input pInputText id="otp-input" type="text" [(ngModel)]="otp" placeholder="123456" class="w-full" />
					<p-button label="Verify Code" styleClass="w-full mt-2" [disabled]="!otp" (onClick)="verifyCode()" />
				</div>
			}

			<p-button label="Sign in with Email" [link]="true" (onClick)="isPhoneAuth = false" styleClass="p-0 text-sm" />
		</div>
	} @else {
		<!-- Email Auth -->
		<form [formGroup]="loginForm" (ngSubmit)="loginEmail()" class="flex flex-col gap-4">
			<div class="flex flex-col gap-1">
				<label for="login-email" class="text-sm font-medium text-gray-700">Email Address</label>
				<input pInputText id="login-email" formControlName="email" placeholder="email@example.com" class="w-full" />
			</div>
			<div class="flex flex-col gap-1">
				<label for="login-password" class="text-sm font-medium text-gray-700">Password</label>
				<input pInputText id="login-password" type="password" formControlName="password" placeholder="••••••••" class="w-full" />
			</div>

			<p-button type="submit" label="Sign In" styleClass="w-full" [disabled]="loginForm.invalid" />

			<div class="flex justify-between items-center mt-1">
				<p-button label="Login via SMS" [link]="true" (onClick)="togglePhoneAuth()" styleClass="p-0 text-sm font-medium" />
				<p-button label="Forgot Password?" [link]="true" styleClass="p-0 text-sm text-gray-500" />
			</div>
		</form>
	}

	<div class="text-center mt-2 text-sm text-gray-600">
		Don't have an account? <a (click)="switchToRegister.emit()" class="text-pesianGreen font-semibold cursor-pointer hover:underline">Register</a>
	</div>
</div>
